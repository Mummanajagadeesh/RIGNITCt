<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>RIGNITC | Achievements</title>
  <link rel="stylesheet" href="../assets/css/navbar.css">
  <link rel="icon" type="image/png" href="../assets/images/logo.png">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;600;800&family=Libre+Caslon+Display:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Sora:wght@400;600&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg: #000;
      --fg: #fff;
      --fg-opa: rgba(255,255,255,0.06);
      --max-width: 1100px;
      --radius: 14px;
      --gap: 22px;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{
      background:var(--bg);
      color:var(--fg);
      font-family:"Inter",system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.35;
      padding-bottom:80px;
    }
    main{max-width:var(--max-width);margin:120px auto 80px;padding:0 22px}
    .hero{display:flex;gap:28px;align-items:center;justify-content:space-between;margin-bottom:28px;position:relative}
    .hero .left{flex:1 1 60%}
    h1{font-family:"Orbitron",sans-serif;font-size:clamp(2rem,6vw,3.6rem);letter-spacing:-1px;margin:0 0 6px;line-height:.95;text-transform:uppercase}
    .tagline{color:rgba(255,255,255,0.85);font-weight:600;margin-top:10px;font-size:1rem;opacity:.95}
    .hero:before{content:"";position:absolute;right:-80px;top:-30px;width:400px;height:400px;background:radial-gradient(circle at 20% 20%,rgba(255,255,255,.03) 0 1px,transparent 1px),repeating-linear-gradient(45deg,rgba(255,255,255,.02) 0 2px,transparent 2px 40px);transform:rotate(10deg);border-radius:12px;pointer-events:none;mix-blend-mode:screen}
    .achievements{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:var(--gap);margin-top:12px}
    .achievement-card{background:linear-gradient(180deg,rgba(255,255,255,.02),transparent 50%);border:1px solid rgba(255,255,255,.06);padding:20px;border-radius:var(--radius);position:relative;overflow:hidden;min-height:120px;display:flex;flex-direction:column;justify-content:space-between;transition:transform .28s cubic-bezier(.2,.9,.2,1),box-shadow .28s ease,background .28s ease;transform-origin:center;isolation:isolate;opacity:0;transform:translateY(10px) scale(.995)}
    .achievement-card.show{opacity:1;transform:translateY(0) scale(1)}
    .achievement-badge{font-weight:800;font-size:1.4rem;letter-spacing:.6px;color:var(--fg);border-left:3px solid var(--fg);padding-left:12px;margin-bottom:8px;display:inline-block}
    .achievement-title{font-weight:700;font-size:1.06rem;color:var(--fg);margin-bottom:8px}
    .achievement-description{color:rgba(255,255,255,.77);font-weight:800;font-size:.98rem;line-height:1.45;margin-top:6px}
    .achievement-photo{margin-top:12px}
    .achievement-photo img{max-width:100%;border-radius:8px;max-height:200px;object-fit:contain}
    .achievement-card:after{content:"";position:absolute;right:-30px;top:-30px;width:90px;height:90px;border:2px solid rgba(255,255,255,.03);transform:rotate(25deg);pointer-events:none}
    .achievement-card:hover{transform:translateY(-8px) scale(1.02);box-shadow:0 30px 60px rgba(255,255,255,.03);background:var(--fg);color:var(--bg)}
    .achievement-card:hover .achievement-title,.achievement-card:hover .achievement-badge{color:var(--bg)}
    .achievement-card:hover .achievement-description{color:rgba(0,0,0,.75)}
    .achievement-card:hover .achievement-badge{border-left-color:var(--bg)}
    .empty{text-align:center;color:rgba(255,255,255,.45);padding:40px 18px;border:1px dashed rgba(255,255,255,.04);border-radius:12px}
    @media(max-width:720px){.hero{flex-direction:column;align-items:flex-start;gap:12px}.hero:before{display:none}.achievement-badge{font-size:1.06rem}}
    .achievements.research-list{grid-template-columns:1fr}
    .achievement-card.horizontal{flex-direction:row;align-items:flex-start;gap:18px;padding:18px;min-height:110px}
    .achievement-card.horizontal .badge-col{display:flex;align-items:flex-start;justify-content:center;min-width:90px;padding-right:12px;border-right:1px solid rgba(255,255,255,.03)}
    .achievement-card.horizontal .achievement-badge{font-size:1.1rem;border-left:none;padding-left:0;margin:0;display:block}
    .achievement-card.horizontal .card-content{flex:1 1 auto}
    .view-more-btn{background:var(--fg);color:var(--bg);border:none;padding:10px 22px;border-radius:var(--radius);font-weight:700;cursor:pointer;transition:all .3s ease}
    .view-more-btn:hover{background:rgba(255,255,255,.85)}
  </style>
</head>
<body>
  <!-- NAV -->
  <nav class="dark" id="navbar" aria-label="Main navigation">
    <a href="../" class="logo"><img src="../assets/images/logo.png" alt="RIGNITC logo"></a>
    <div class="nav-links">
      <a href="../about/">About Us</a>
      <a href="../projects/">Projects</a>
      <a href="../achievements/">Achievements</a>
      <a href="../activities/">Activities</a>
      <a href="../team/">Team</a>
      <a href="../contact/">Contact</a>
    </div>
    <a class="btn-sponsor" href="../contact/?name=Jagadeesh&email=mummanajagadeesh97%40gmail.com&message=hw%20world">Sponsor US</a>
  </nav>

  <main>
    <section class="hero" aria-labelledby="ach-head">
      <div class="left">
        <h1 id="ach-head">Competitions</h1>
        <div class="tagline">We donâ€™t always take first place, but we never give up</div>
      </div>
    </section>

    <div class="achievements" id="achievements" aria-live="polite">
      <div class="empty" id="empty-placeholder" style="display:none;">No achievements found.</div>
    </div>
    <div style="text-align:center;margin-top:20px;"><button id="view-more-achievements" class="view-more-btn" style="display:none;">View More</button></div>

    <br><br><br><br>

    <section class="hero" aria-labelledby="res-head">
      <div class="left">
        <h1 id="res-head">Research</h1>
        <div class="tagline">Exploring, innovating, and publishing our findings</div>
      </div>
    </section>

    <div class="achievements" id="research" aria-live="polite">
      <div class="empty" id="research-empty" style="display:none;">No research found.</div>
    </div>
    <div style="text-align:center;margin-top:20px;"><button id="view-more-research" class="view-more-btn" style="display:none;">View More</button></div>
  </main>

<script>
async function loadAchievements(type, url, containerId, emptyId, viewMoreBtnId){
  const container=document.getElementById(containerId);
  const empty=document.getElementById(emptyId);
  const viewMoreBtn=document.getElementById(viewMoreBtnId);
  if(!container||!empty)return;

  if(type==='research'){container.classList.add('research-list')}else{container.classList.remove('research-list')}

  try{
    container.innerHTML='';
    empty.style.display='none';
    const resp=await fetch(url,{cache:"no-cache"});
    if(!resp.ok) throw new Error('Network error '+resp.status);
    const data=await resp.json();
    if(!Array.isArray(data)||data.length===0){empty.style.display='block';return}

    data.forEach((item,idx)=>{
      const card=document.createElement('article');
      card.className='achievement-card';
      if(type==='research') card.classList.add('horizontal');
      card.setAttribute('tabindex','0');
      const badgeVal=item.badge??(idx+1);

if(type === 'research'){
  card.innerHTML = `
    <div class="badge-col">
      <div class="achievement-badge">#${badgeVal}</div>
    </div>
    <div class="card-content">
      <div class="achievement-title">${escapeHtml(item.title)}</div>
      <div class="achievement-description">${escapeHtml(item.description)}</div>
    </div>
  `;
} else {
  const photoPath = item.photo ? `../${item.photo}` : '';
  card.innerHTML = `
    <div>
      ${item.photo ? `<div class="achievement-photo"><img src="${escapeHtml(photoPath)}" alt="${escapeHtml(item.title)}"></div>` : ''}
      <div class="achievement-badge">#${badgeVal}</div>
      <div class="achievement-title">${escapeHtml(item.title)}</div>
      <div class="achievement-description">${escapeHtml(item.description)}</div>
    </div>
  `;
}



      if(idx>=4){card.style.display='none';card.classList.add('hidden-card')}
      else{card.style.display='flex'}

      container.appendChild(card);
      setTimeout(()=>card.classList.add('show'),90*idx);
    });

    if(data.length>4&&viewMoreBtn){
      viewMoreBtn.style.display='inline-block';
      viewMoreBtn.replaceWith(viewMoreBtn.cloneNode(true));
      const newBtn=document.getElementById(viewMoreBtnId);
      newBtn.addEventListener('click',()=>{
        container.querySelectorAll('.hidden-card').forEach(card=>{
          card.style.display='flex';
          setTimeout(()=>card.classList.add('show'),60);
          card.classList.remove('hidden-card');
        });
        newBtn.style.display='none';
      });
    } else if(viewMoreBtn){viewMoreBtn.style.display='none'}
  }catch(err){
    console.error('Error',err);
    empty.style.display='block';
    empty.textContent='Could not load '+url;
  }
}

function escapeHtml(str=''){
  return String(str).replaceAll('&','&amp;').replaceAll('<','&lt;').replaceAll('>','&gt;').replaceAll('"','&quot;').replaceAll("'","&#39;");
}

loadAchievements('competitions','competitions.json','achievements','empty-placeholder','view-more-achievements');
loadAchievements('research','research.json','research','research-empty','view-more-research');
</script>
</body>
</html>
